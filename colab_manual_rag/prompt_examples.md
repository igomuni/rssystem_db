# 手動RAG分析のためのプロンプト集

このファイルは、`README.md`に記載された手順を実行する際に、AIアシスタント（思考エンジン）に渡すプロンプトのサンプルです。各ステップで、ここに記載されているテキストとColabの出力結果を組み合わせて使用してください。

---

### ステップ1：データベース構造の理解

`README.md`の**セル3（スキーマ確認）**を実行した後、その出力結果（2つのテーブルのスキーマ情報）をすべてコピーし、AIアシスタントに以下のように伝えてください。

<br>

> **【コピーして使用するプロンプト】**
>
> こんにちは。これからRAGシステムの手動分析を行います。あなたは私の思考エンジンとして機能してください。
>
> まず、これが分析対象となるデータベースの設計図（スキーマ情報）です。この構造を記憶してください。
>
> ```text
> [ここに、Colabのセル3の出力結果（2つのテーブルスキーマ）を貼り付け]
> ```

---

### ステップ2：SQLクエリの生成

`README.md`の**セル4（ベクトル検索）**を実行した後、その出力結果（ユニークな事業IDのリスト）をコピーし、AIアシスタントに以下のように依頼してください。

<br>

> **【コピーして使用するプロンプト】**
>
> データベースのスキーマの記憶はできていますね。
>
> 先ほどの質問「**（ここに元の質問を記入。例：ガソリン減税に関連しそうな事業の、支出先トップ3とその金額は？）**」に対するコンテキスト情報として、以下の関連事業IDリストを取得しました。
>
> この情報を基に、元の質問に答えるためのDuckDB SQLクエリを生成してください。
>
> ```text
> [ここに、Colabのセル4の出力結果（事業IDリスト）を貼り付け]
> ```

---

### ステップ3：最終回答の生成

`README.md`の**セル5（SQL実行）**を実行した後、その出力結果（Markdown形式のテーブル）をコピーし、AIアシスタントに以下のように依頼してください。

<br>

> **【コピーして使用するプロンプト】**
>
> SQLの実行に成功し、以下のデータを取得しました。
>
> このデータを基に、元の質問「**（ここに元の質問を記入。例：ガソリン減税に関連しそうな事業の、支出先トップ3とその金額は？）**」に対する最終的な回答を、自然で分かりやすい日本語の文章で生成してください。
>
> ```text
> [ここに、Colabのセル5の出力結果（Markdownテーブル）を貼り付け]
> ```
